<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Making Bubbles</title>
    <style type="text/css">
        #textBox{
            margin: auto;
            text-align: center;
            margin-top: 400px;
        }

        #textBox2{
            margin: auto;
            margin-left: 11px;
        }

    </style>
</head>
<body>
    <div id="textBox2">Click Count: <span id="clickCounter">0</span></div>
    <div id="textBox"></div>

    <img id="bubbleImage" src="./bubble.png" style="position: absolute;">

    <script>
        let clickCount = 0;

        const clickCounterElement = document.getElementById("clickCounter");
        const bubbleImageElement = document.getElementById("bubbleImage"); // Get the bubble image element


        document.addEventListener("click", (event) => {
                clickCount++;
                clickCounterElement.innerText = clickCount;
                
                const image = new Image();
                image.src = "./bubble.png";
                image.style.position = "absolute";
                image.style.left = event.clientX + 'px';
                image.style.top = event.clientY + 'px';

                const randomSize = Math.floor(Math.random() * (400 - 20 + 1)) + 20;
                image.style.width = randomSize + 'px';
                image.style.height = "auto";

                const angle = Math.random() * 360; // 랜덤한 각도 생성
                const speed = 2 + Math.random() * 3;
                const xVelocity = speed * Math.cos(angle * (Math.PI / 180));
                const yVelocity = speed * Math.sin(angle * (Math.PI / 180));

                let x = event.clientX;
                let y = event.clientY;

                image.style.transform = `rotate(${angle}deg)`; // 이미지를 랜덤한 각도로 회전

                const imageInterval = setInterval(() => {
                    x += xVelocity;
                    y += yVelocity;
                    image.style.left = x + 'px';
                    image.style.top = y + 'px';

                    setTimeout(() => {
                        clearInterval(imageInterval);
                        image.remove();
                    }, 3000);

                }, 20);
                document.body.appendChild(image);  

                     if (Math.random() < 0.2) {
                        const randomImage = new Image();
                        randomImage.src = "./money.png";
                        randomImage.style.position = "absolute";
                        randomImage.style.left = event.clientX + 'px';
                        randomImage.style.top = event.clientY + 'px';

                        const randomSize = Math.floor(Math.random() * (400 - 20 + 1)) + 20;
                        randomImage.style.width = randomSize + 'px';
                        randomImage.style.height = "auto";

                        const angle = Math.random() * 360; // 랜덤한 각도 생성
                        const speed = 2 + Math.random() * 3;
                        const xVelocity = speed * Math.cos(angle * (Math.PI / 180));
                        const yVelocity = speed * Math.sin(angle * (Math.PI / 180));

                        let x = event.clientX;
                        let y = event.clientY;

                        randomImage.style.transform = `rotate(${angle}deg)`; // 이미지를 랜덤한 각도로 회전

                        const imageInterval = setInterval(() => {
                            x += xVelocity;
                            y += yVelocity;
                            randomImage.style.left = x + 'px';
                            randomImage.style.top = y + 'px';

                            setTimeout(() => {
                                clearInterval(imageInterval);
                                randomImage.remove();
                            }, 3000);

                        }, 20);

                        document.body.appendChild(randomImage);
                 }            


                if (clickCount == 10) {
                    const message = document.createElement("div");
                    message.textContent = "Lv = [비눗방울 빨대]";
                    message.style.fontWeight = "600";
                    message.style.position = "absolute";
                    message.style.top = "50px";
                    message.style.left = "20px";
                    message.style.color = "black";
                    document.body.appendChild(message);
                    }

                if (clickCount == 20) {
                    const message = document.createElement("div");
                    message.textContent = "Lv = [짧은 버블 스틱]";
                    message.style.fontWeight = "600";
                    message.style.position = "absolute";
                    message.style.top = "70px";
                    message.style.left = "20px";
                    message.style.color = "black";
                    document.body.appendChild(message);
                    } 

                if (clickCount == 30) {
                    const message = document.createElement("div");
                    message.textContent = "Lv = [긴 버블 스틱]";
                    message.style.fontWeight = "600";
                    message.style.position = "absolute";
                    message.style.top = "90px";
                    message.style.left = "20px";
                    message.style.color = "black";
                    document.body.appendChild(message);
                    }

                if (clickCount == 40) {
                    const message = document.createElement("div");
                    message.textContent = "Lv = [버블 머신건]";
                    message.style.fontWeight = "600";
                    message.style.position = "absolute";
                    message.style.top = "110px";
                    message.style.left = "20px";
                    message.style.color = "black";
                    document.body.appendChild(message);
                    }

                if (clickCount == 50) {
                    const message = document.createElement("div");
                    message.textContent = "Lv = [자동 버블 메이커]";
                    message.style.fontWeight = "600";
                    message.style.position = "absolute";
                    message.style.top = "130px";
                    message.style.left = "20px";
                    message.style.color = "black";
                    document.body.appendChild(message);
                    }

                if (clickCount == 60) {
                    const message = document.createElement("div");
                    message.textContent = "Lv = [...]";
                    message.style.fontWeight = "600";
                    message.style.position = "absolute";
                    message.style.top = "150px";
                    message.style.left = "20px";
                    message.style.color = "black";
                    }    

                if (clickCount == 70) {
                    const message = document.createElement("div");
                    message.textContent = "그만 좀 누르세요;";
                    message.style.fontWeight = "600";
                    message.style.position = "absolute";
                    message.style.top = "180px";
                    message.style.left = "20px";
                    message.style.color = "red";
                    document.body.appendChild(message);

                     document.body.appendChild(message);
                        messageTimeout = setTimeout(() => {
                            message.remove();
                            messageVisible = false;
                        }, 3000);
                    }

                    if (clickCount == 90) {
                    const message = document.createElement("div");
                    message.textContent = "그만 좀 누르시라니까;";
                    message.style.fontWeight = "600";
                    message.style.position = "absolute";
                    message.style.top = "10px";
                    message.style.left = "20px";
                    message.style.color = "red";
                    document.body.appendChild(message);

                     document.body.appendChild(message);
                        messageTimeout = setTimeout(() => {
                            message.remove();
                            messageVisible = false;
                        }, 3000);
                    }

            });

        var definiftion = "비눗-방울  / -누빵- / -눋빵- / <i>명사</i> <br> 비눗물을 가는 대롱의 한쪽 끝에 찍어 그 반대쪽에 입을 대고 불어서 생기게 하는 방울. 또는, 크게 방울이 진 비누 거품. <br><br> 돈 / 돈ː / <i>명사</i> <br> 일반적인 유통수단. 돈은 사물의 가치를 나타내며, 상품의 교환을 매개하고, 재산 축적의 대상으로도 사용하는 물건."
        var definiftionArr = definiftion.split(" ");
        console.log(definiftionArr);

        var timer = setInterval(print,400);
        var word = 0;
        function print(){
            textBox.innerHTML += definiftionArr[word] + " ";
            word++;
            if(word == definiftionArr.length){
                clearInterval(timer);
                timer.remove();
                }
            }

    </script>
</body>
</html>
